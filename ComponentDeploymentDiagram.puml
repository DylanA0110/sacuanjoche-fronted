@startuml ComponentDeploymentDiagram

!theme plain

skinparam componentAttributeIconSize 0
skinparam componentIconSize 0
skinparam packageStyle rectangle
skinparam packageBackgroundColor transparent
skinparam packageBorderColor #000000
skinparam packageFontName "Linotype CaseStudyNo1"
skinparam stereotypeCBackgroundColor transparent
skinparam stereotypeABackgroundColor transparent
skinparam defaultFontName "Linotype CaseStudyNo1"
skinparam shadowing false
skinparam roundcorner 2
skinparam linetype ortho

skinparam node {
    BackgroundColor #CEDFD2
    BorderColor #000000
    BorderThickness 1
    ArrowColor #000000
    FontName "Linotype CaseStudyNo1"
    FontSize 11
    FontStyle normal
}

skinparam component {
    BackgroundColor #FFFEF2
    BorderColor #000000
    BorderThickness 1
    ArrowColor #000000
    FontName "Linotype CaseStudyNo1"
    FontSize 11
    FontStyle normal
}

node "Digital Ocean" as digitalOcean {
    component [NestJS API] <<component>>
    component [Autenticacion] <<component>>
    component [Gestion de Clientes] <<component>>
    component [Gestion de Pedidos] <<component>>
    component [Gestion de Facturas] <<component>>
    component [Gestion de Arreglos] <<component>>
    component [Gestion de Catalogo] <<component>>
    component [Gestion de Pagos] <<component>>
    component [Gestion de Envios] <<component>>
    component [Generacion de PDFs] <<component>>
    component [Reportes] <<component>>
    
    [NestJS API] --> [Autenticacion]
    [NestJS API] --> [Gestion de Clientes]
    [NestJS API] --> [Gestion de Pedidos]
    [NestJS API] --> [Gestion de Facturas]
    [NestJS API] --> [Gestion de Arreglos]
    [NestJS API] --> [Gestion de Catalogo]
    [NestJS API] --> [Gestion de Pagos]
    [NestJS API] --> [Gestion de Envios]
    [NestJS API] --> [Generacion de PDFs]
    [NestJS API] --> [Reportes]
    
    [Autenticacion] --> [PostgreSQL database]
    [Gestion de Clientes] --> [PostgreSQL database]
    [Gestion de Pedidos] --> [PostgreSQL database]
    [Gestion de Facturas] --> [PostgreSQL database]
    [Gestion de Arreglos] --> [PostgreSQL database]
    [Gestion de Catalogo] --> [PostgreSQL database]
    [Gestion de Pagos] --> [PostgreSQL database]
    [Gestion de Envios] --> [PostgreSQL database]
    [Reportes] --> [PostgreSQL database]
}

node "Neon PostgreSQL" as neonDB {
    component [PostgreSQL database] <<component>>
}

digitalOcean --> neonDB : https

node "Netlify" as netlify {
    component [Firewall] <<component>>
    component [React Frontend] <<component>>
    component [Interfaz de Usuario] <<component>>
    component [Gestion de Formularios] <<component>>
    component [Validacion de Datos] <<component>>
    component [Landing Page] <<component>>
    component [Gestion de Imagenes] <<component>>
    
    [Firewall] --> [React Frontend]
    [React Frontend] --> [Interfaz de Usuario]
    [React Frontend] --> [Gestion de Formularios]
    [React Frontend] --> [Validacion de Datos]
    [React Frontend] --> [Landing Page]
    [React Frontend] --> [Gestion de Imagenes]
}

node "Cliente" as cliente {
    component [Navegador Web] <<component>>
}

node "Supabase" as supabase {
    component [Storage Service] <<component>>
    component [CatalogoFloristeria Bucket] <<component>>
    
    [Storage Service] --> [CatalogoFloristeria Bucket]
}

cliente --> netlify : https
netlify --> digitalOcean : https
netlify --> supabase : https

note right of digitalOcean
  Servidor para backend
  NestJS + TypeORM
end note

note right of neonDB
  Base de datos PostgreSQL
  Alojada en Neon
end note

note right of netlify
  Servidor para frontend
  React + Vite
end note

note right of supabase
  Almacenamiento de imagenes
  de arreglos florales
  Bucket: CatalogoFloristeria
end note

@enduml

